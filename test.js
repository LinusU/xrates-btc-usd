const assert = require('assert')
const btcToUsd = require('./')

const knownData = new Map([
  ['2011-06-03', 14.29],
  ['2012-02-15', 4.3251],
  ['2012-09-14', 11.67],
  ['2013-02-12', 25.1698],
  ['2013-08-28', 117.59],
  ['2014-05-07', 436.9605],
  ['2014-12-02', 381.5364],
  ['2015-06-22', 246.77],
  ['2015-11-20', 321.988],
  ['2016-06-16', 768.242],
  ['2016-11-28', 731.7463],
  ['2017-05-31', 2330.2338],
  ['2017-07-04', 2625.0713],
  ['2017-12-14', 16531.0838],
  ['2017-12-29', 14427.87],
  ['2018-05-31', 7487.1875],
  ['2018-07-04', 6584.7663],
  ['2018-12-14', 3223.7633],
  ['2018-12-29', 3779.7133]
])

for (const [date, expected] of knownData) {
  assert.strictEqual(btcToUsd.lookup(date), expected)
}
